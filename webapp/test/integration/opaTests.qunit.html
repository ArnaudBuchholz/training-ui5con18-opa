<!DOCTYPE html>
<html>
	<head>
		<title>OPA tests for Todo List</title>
		<meta http-equiv='X-UA-Compatible' content='IE=edge'>
		<meta charset="utf-8">

		<script id="sap-ui-bootstrap"
			src="../../resources/sap-ui-core.js"
			data-sap-ui-theme="sap_belize"
			data-sap-ui-bindingSyntax="complex"
			data-sap-ui-compatVersion="edge"
			data-sap-ui-preload="async"
			data-sap-ui-resourceroots='{"sap.ui.demo.todo": "../../"}'>
		</script>

		<script src="../../resources/sap/ui/thirdparty/qunit.js"></script>
		<script src="../../resources/sap/ui/qunit/qunit-css.js"></script>
		<script src="../../test-resources/html2canvas.min.js"></script>
		<script src="../../test-resources/resemble.js"></script>

		<script>
			QUnit.config.autostart = false;
			sap.ui.getCore().attachInit(function() {
				sap.ui.require([
					"sap/ui/demo/todo/test/integration/AllJourneys"
				], function() {
					QUnit.start();
				});
			});
		</script>

		<style>

iframe.opaFrame {
	width: 1280px;
	height: 1024px;
	position: fixed;
	top: -80px;
	left: 0px;
	bottom: unset;
	right: unset;
}

.hidePreview iframe.opaFrame {
	display: none;
}

		</style>

		<script>

			function waitForQUnitToolbar() {
				var qUnitToolbar = document.getElementById("qunit-testrunner-toolbar");
				if (qUnitToolbar) {
					qUnitToolbar.appendChild(document.getElementById("showpreview-group"));
					document.getElementById("showpreview").addEventListener("click", onShowPreview);
				} else {
					setTimeout(waitForQUnitToolbar, 100);
				}
			}

			function onShowPreview() {
				if (this.checked) {
					document.body.className = "sapUiBody"
				} else {
					document.body.className = "sapUiBody hidePreview"
				}
			}

		</script>

	</head>
	<body onload="waitForQUnitToolbar()">
		<div id="qunit"></div>
		<div id="qunit-fixture"></div>
		<span id="showpreview-group" class="qunit-url-config">
			<input id="showpreview" name="showpreview" type="checkbox" checked="checked" title="Application preview">
			<label for="showpreview" title="Application preview">Application preview</label>
		</span>
	</body>
</html>
